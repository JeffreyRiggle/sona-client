<template>
    <require from="../attribute/attribute-viewer"></require>
    <require from="../attachment/attachment-viewer"></require>
    <require from="../common/editable-label"></require>
    <require from="./viewing-area"></require>
    <div>
        <button click.delegate="resetIncident()" disabled.bind="!isDirty">Revert</button>
        <button click.delegate="updateIncident()" disabled.bind="!isDirty">Update</button>
    </div>
    <div>
        <p><span class="incident-attribute-header">Incident</span> <span class="incident-attribute-value">${incident.id}</span></p>
        <p><span class="incident-attribute-header">Reporter</span> <editable-label class="incident-attribute-value" item.two-way="incident.reporter" edited.trigger="valueEdited()"></editable-label></p>
        <p><span class="incident-attribute-header">State</span> <editable-label class="incident-attribute-value" item.two-way="incident.state" edited.trigger="valueEdited()"></editable-label></p>
        <p><span class="incident-attribute-header">Description</span> <editable-label class="incident-attribute-value" item.two-way="incident.description" edited.trigger="valueEdited()"></editable-label></p>
    </div>
    <attribute-viewer incident.bind="incident"></attribute-viewer>
    <attachment-viewer incident.bind="incident"></attachment-viewer>
    <viewing-area incident.bind="incident" class="viewer"></viewing-area>
</template>
