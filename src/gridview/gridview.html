<template>
    <require from="../common/checkable-drop-down"></require>
    <require from="./grid-item-format"></require>
    <table class="gridview">
        <thead>
            <tr class="gridview-item-header">
                <th class="gridview-column-header" 
                    repeat.for="column of selectedColumns"
                    click.delegate="changeSort(column)">${column.displayName}<i if.bind="sortProperty === column.property" class="arrow fa ${column.direction === 'dsc' ? 'fa-sort-desc' : 'fa-sort-asc'}"></i></th>
                <th class="gridview-column-selector"><checkable-drop-down  
                        items.bind="options.columns"
                        button-class="fa fa-list-ul"
                        item-checked.trigger="onColumnAdded($event)"
                        item-unchecked.trigger="onColumnRemoved($event)"></checkable-drop-down></th>
            </tr>
        </thead>
        <tbody>
            <tr repeat.for="item of items"
                click.delegate="itemClicked(item)"
                class="${selected === item ? 'selected-gridview-item' : 'gridview-item'}">
                <td class="gridview-column" repeat.for="column of selectedColumns">${item | gridItemFormat:column.property:column.converter}</td>
            </tr>
        </tbody>
    </table>
</template>